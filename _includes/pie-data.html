<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<style>

#fork {
  position: absolute;
  top: 0;
  right: 0;
  border: 0;
}

</style>

<div style="width: 100%; height:50%">
	<h2 class ="sub-heading">PiE Annual Data</h2>
	<div class="hidden-xs">
		<canvas id="canvas" height="25%" width="60%" ></canvas>
	</div>
	<div class = "visible-xs">
		<table class="table table-striped table-hover">
			<thead> <tr> <th>Year</th> <th>Participants</th> <th>Schools</th> <th>Mentors</th> </tr>
			</thead>
			 <tbody> <tr> <th scope=row>2009</th> <td>44</td> <td>6</td> <td>18</td> </tr>
			 	<tr> <th scope=row>2010</th> <td>60</td> <td>8</td> <td>27</td> </tr>
			 	<tr> <th scope=row>2011</th> <td>102</td> <td>9</td> <td>35</td> </tr>
			 	<tr> <th scope=row>2012</th> <td>265</td> <td>20</td> <td>90</td> </tr>
			 	<tr> <th scope=row>2013</th> <td>260</td> <td>24</td> <td>107</td> </tr>
			 	<tr> <th scope=row>2014</th> <td>276</td> <td>20</td> <td>86</td> </tr>
			 	<tr> <th scope=row>2015</th> <td>350</td> <td>24</td> <td>76</td> </tr>
			 </tbody>
		</table>
	</div>
</div>

<h2 class="sub-heading">Quick Facts on PiE's RC Participants (in 2016)</h2>

<div style="width: 100%; height: 100%">
	<h3 class="sub-heading">Annual Household Income</h3>
	<div class="hidden-xs">
		<div style="float: center; width: 90%; height: 100%">
			<canvas id="canvas2" height="50%" width="100%" ></canvas>
		</div>
	</div>
	<div class = "visible-xs">
		<table class="table table-striped table-hover">
			<thead> <tr> <th>Family Income</th> <th>Total</th> <th>Percent</th> </tr>
			</thead>
			 <tbody> <tr> <th scope=row>below $10,000</th> <td>14</td> <td>5%</td> </tr>
			 	<tr> <th scope=row>$10,000 - $30,000</th> <td>46</td> <td>17%</td> </tr>
			 	<tr> <th scope=row>$30,000 - $50,000</th> <td>68</td> <td>25%</td> </tr>
			 	<tr> <th scope=row>$50,000 - $70,000</th> <td>45</td> <td>16%</td> </tr>
			 	<tr> <th scope=row>$70,000 - $90,000</th> <td>26</td> <td>9%</td> </tr>
			 	<tr> <th scope=row>$90,000+</th> <td>78</td> <td>28%</td> </tr>
			 </tbody>
		</table>
	</div>
  <h4>47% of our participants live below the US median wage of $51,939 (US Census Bureau).</h3>
  <h4>Some of our participants live below the US household<sup>*</sup> poverty line of $20,090 (US Dept. of Health and Human Services).</h3>
  <p><sup>*</sup>household of 3 members</p>
</div>

<div style="width: 100%; height: 100%">
	<h3 class ="sub-heading">Gender Demographics</h3>
	<div class="hidden-xs">
		<div style="float: center; width: 90%; height: 100%">
			<canvas id="canvas3" height="50%" width="100%" ></canvas>
		</div>
	</div>
	<div class = "visible-xs">
  <table class="table table-striped table-hover">
    <thead> <tr> <th>Gender</th> <th>Total</th> <th>Percent</th> </tr>
    </thead>
     <tbody> <tr> <th scope=row>Male</th> <td>187</td> <td>68%</td> </tr>
      <tr> <th scope=row>Female</th> <td>88</td> <td>32%</td> </tr>
     </tbody>
  </table>
	</div>
  <h4>1 in 3 of PiE's RC participants are female. This is doing better than most
colleges in participation of females in robotics or computer science.</h4>
  <p>(Data: National Girls Collaborative Project)</p>
</div>

<script>


	var pieAnnualData = {
		labels : ["2009", "2010", "2011", "2012", "2013", "2014", "2015"],
		datasets : [
      {
				label: "Participants",
				backgroundColor : "rgba(43,61,98,0.5)",
				borderColor : "rgba(43,61,98,0.8)",
				hoverBackgroundColor : "rgba(43,61,98,0.75)",
				hoverBorderColor : "rgba(43,61,98,1)",
				data : [44, 60, 102, 265, 260, 276, 350],
        borderWidth: 2
			}, {
				label: "Schools",
				backgroundColor : "rgba(199, 170, 54,0.5)",
				borderColor : "rgba(199, 170, 54,0.8)",
				hoverBackgroundColor: "rgba(199, 170, 54,0.75)",
				hoverBorderColor: "rgba(199, 170, 54,1)",
				data : [6, 8, 9, 20, 24, 20, 24],
        borderWidth: 2
			}, {
				label: "Mentors",
				backgroundColor : "rgba(151,187,205,0.5)",
				borderColor : "rgba(151,187,205,0.8)",
				hoverBackgroundColor : "rgba(151,187,205,0.75)",
				hoverBorderColor : "rgba(151,187,205,1)",
				data : [18, 27, 35, 90, 107, 86, 76],
        borderWidth: 2
			}
		]
	};

	var pieIncomeData = {
    labels: [
      "below $10,000",
      "$10,000 - $30,000",
      "$30,000 - $50,000",
      "$50,000 - $70,000",
      "$70,000 - $90,000",
      "$90,000+"
    ],
    datasets: [
      {
        data: [14, 46, 68, 45, 26, 78],
        backgroundColor: [
          "#FF6384",
          "#FDB45C",
          "rgba(199, 170, 54,0.5)",
          "rgb(102, 153, 255)",
          "#46BFBD",
          "rgba(151,187,205,0.5)"
        ],
      },
	  ],
  };

  var pieGenderData = {
    labels: [
      "PiE RC Participants",
      //"STEM Workforce in US",
      "Engineering grads in US",
      "Computer Science grads in US",
    ],
    datasets: [
      {
        label: "% of which are girls",
        // girls in pie: 88, boys in pie: 187
        data: [88/(88+187)*100, /*29,*/ 19.3, 17.9],
        backgroundColor: "rgba(252, 151, 217, 0.5)",
        borderColor: "rgba(209, 125, 179, 0.5)",
        borderWidth: 2,
      }, {
        label: "% of which are boys",
        data: [187/(88+187)*100, /*100-29,*/ 100-19.3, 100-17.9],
        backgroundColor: "rgba(151,187,205,0.5)",
				borderColor : "rgba(151,187,205,0.8)",
        borderWidth: 2,
      },
    ],
  };

	var ctx = document.getElementById("canvas").getContext("2d");
	var pieAnnualChart = new Chart(ctx, {
    type: "bar",
    data: pieAnnualData,
    options: {
      legend: {
        display: true,
        labels: {
          fontSize: 14
        },
      },
    },
	});

	var ctx2 = document.getElementById("canvas2").getContext("2d");
	var pieIncomeChart = new Chart(ctx2, {
    type: "pie",
    data: pieIncomeData,
    options: {
      legend: {
        display: true,
        position: 'right',
        labels: {
          fontSize: 14
        },
      },
    },
	});

	var ctx3 = document.getElementById("canvas3").getContext("2d");
	var pieGenderChart = new Chart(ctx3, {
    type: "bar",
    data: pieGenderData,
    options: {
      legend: {
        display: true,
        labels: {
          fontSize: 14
        },
      },
      scales: {
          yAxes: [{
            ticks: {
              //suggestedMin: 0,
            },
            stacked: true,
          }],
          xAxes: [{
            stacked: true,
          }]
      }
    },
	});

	/* consider: increase font size of legend, tooltip, labels */

</script>
